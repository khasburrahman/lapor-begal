<script>
    function createCard(target, id, report, edit= false){
        let {foto, deskripsi, lokasi} = report

        let p = document.createElement('p')
        p.innerHTML = deskripsi
        p.classList.add('card-text')

        let buttonDelet = document.createElement('button')
        buttonDelet.classList.add('btn-danger')
        buttonDelet.classList.add('btn')
        buttonDelet.classList.add('deletLaporan')
        buttonDelet.innerHTML = 'Hapus Laporan'

        let form = document.createElement('form')
        form.action = '/reports/'+report.id+'/delete'
        form.method = 'POST'

        form.appendChild(buttonDelet)
        
        let h5 = document.createElement('h5')
        if (edit) {
            let linkEdit = document.createElement('a')
            linkEdit.href = `/reports/${report.id}/edit`
            linkEdit.innerHTML = lokasi
            h5.appendChild(linkEdit)
        } else {
            h5.innerHTML = lokasi
        }
        h5.classList.add('card-title')

        let cardBody = document.createElement('div')
        cardBody.classList.add('card-body')
        cardBody.appendChild(h5)
        cardBody.appendChild(p)

        let fotoLokasi = document.createElement('div')
        fotoLokasi.classList.add('fotoLokasi')
        if (foto){
            fotoLokasi.style.background = `url("${foto}")`
        }

        let card = document.createElement('div')
        card.id = 'cardreport-'+id
        card.classList.add('card')
        card.classList.add('customCard')
        card.classList.add('reportCard')
        card.appendChild(fotoLokasi)
        card.appendChild(cardBody)
        if (edit) {
            card.appendChild(form)
        }

        target.appendChild(card)
    }
</script>